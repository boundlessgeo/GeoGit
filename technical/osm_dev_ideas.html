<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, maximum-scale=1">
  
  <title>IDEAS & ISSUES FOR FUTURE DEVELOPMENT &mdash; GeoGig 1.0-beta1 Technical Manual</title>
  <link rel="stylesheet" href="_static/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="_static/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/offcanvas.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0-beta1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
  <link rel="shortcut icon" href="_static/favicon.ico"/>
      <link rel="top" title="GeoGig 1.0-beta1 Technical Manual" href="index.html" />
</head>
<body class="osm_dev_ideas">
    <div id="blacktop"></div>
    <header id="masthead">
      <div class="navbar">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://geogig.org"><h1>GeoGig</h1></a>
          </div>
          <div class="navbar-collapse collapse navbar-right">
            <ul class="nav navbar-nav">
              <li><a href="http://geogig.org/#install">Get Started</a></li>
              <li><a href="http://geogig.org/docs/index.html">Documentation</a></li>
              <li><a href="https://github.com/locationtech/geogig">On Github</a></li>
            </ul>
          </div><!--/.navbar-collapse -->
        </div>
      </div>
    </header>

    <section class="subheading hidden-xs">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <p class="byline">A Tool for Geospatial Data Management</p>
          </div>
        </div>
      </div>
    </section>
    <a name="top"></a>

 <div id="main">
    <div class="wrap selfclear">
      <div id="content">
      <div class="container">
        <div class="row row-offcanvas row-offcanvas-right">
          <div class="col-md-8"> 
            <div class="row pull-right">
             <div class="visible-sm visible-xs" id="menu-btn">
                <button class="btn btn-blue btn-sm"type="button" data-toggle="offcanvas">
                  <span class="btn-text active">Menu &rarr;</span>
                  <span class="btn-back">&larr; Back</span>
                </button>
              </div>
            </div>
<ul id="breadcrumbs">
  
  <li><a href="index.html">GeoGig 1.0-beta1 Technical Manual</a> &raquo;</li>
  <li>IDEAS & ISSUES FOR FUTURE DEVELOPMENT</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="genindex.html" title="General Index"
       accesskey="I">index</a></li>
</ul>
        
  <div class="section" id="ideas-issues-for-future-development">
<h1>IDEAS &amp; ISSUES FOR FUTURE DEVELOPMENT<a class="headerlink" href="#ideas-issues-for-future-development" title="Permalink to this headline">¶</a></h1>
<div class="section" id="problems-to-solve-things-to-consider-about-osm-commands-in-geogig">
<h2>Problems to solve / Things to consider  about OSM commands in GeoGig<a class="headerlink" href="#problems-to-solve-things-to-consider-about-osm-commands-in-geogig" title="Permalink to this headline">¶</a></h2>
<div class="section" id="updating">
<h3>1. Updating<a class="headerlink" href="#updating" title="Permalink to this headline">¶</a></h3>
<p>The current update command just re-downloads with the last filter, but is not a smart download, and downloads everything. The <a class="reference external" href="http://wiki.openstreetmap.org/wiki/Overpass_API">Overpass API</a> allows to fetch only features newer than a given data, but that cannot be used if there are deletions, since it does not report deleted elements.</p>
<p>The OSM API allows to download history, including deletions, but does not support filters.</p>
<p>Ideally, a mix of both functionalities would be needed for geogig to work optimally</p>
</div>
<div class="section" id="unmapping-of-ways">
<h3>2. Unmapping of ways<a class="headerlink" href="#unmapping-of-ways" title="Permalink to this headline">¶</a></h3>
<p>When a way is unmapped, its geometry is used to re-create the list of nodes. The best way would be to take the coords of the nodes and check if a node exist in each coordinate, and if so, take the node id, otherwise, add a new node. This is, however, not possible now, since it would not be efficient. GeoGig has no spatial indexing, and searching a feature by its coordinates is not an available operation.</p>
<p>The current implementation just retrieves the nodes that belonged to the way in the last version, and check the current geometry against them. This is fine if all new nodes are actually new, but if the way uses a node that it did not use before but that exists already, that node will not be used (since there is no way of retrieving the id of the node in that coord), and a new one in that same position is added.</p>
</div>
<div class="section" id="updating-new-entities">
<h3>3. Updating new entities<a class="headerlink" href="#updating-new-entities" title="Permalink to this headline">¶</a></h3>
<p>When a new node is added (whether by the user, who created it in something like JOSM, or by an unmap operation), new entities get a negative ID, as it seems customary in OSM before commiting them. Once submitted, they get a valid ID, and when later updating, the Id&#8217;s will not match, so GeoGig will not replace them, leaving both versions.</p>
<p>This is, in fact, not a problem now, since the update operation just deletes and updates everything (see (1)), but once we get a more efficient update strategy, this problem will surface.</p>
</div>
</div>
<div class="section" id="osm-paths">
<h2>OSM paths<a class="headerlink" href="#osm-paths" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">[This is just an idea, not implemented yet. Is it a good idea??]</p>
</div>
<p>The default paths for OSM data are <tt class="docutils literal"><span class="pre">way</span></tt> and <tt class="docutils literal"><span class="pre">node</span></tt>. they should contain just OSM data imported using the corresponding GeoGig commands. To use those paths for different data and avoid problem with OSM commands, the default paths can be changed using the <tt class="docutils literal"><span class="pre">config</span></tt> command. Default paths are kept in the <tt class="docutils literal"><span class="pre">osm.nodepath</span></tt> and <tt class="docutils literal"><span class="pre">osm.waypath</span></tt> config parameters, which can be configured as shown in the example below.</p>
<div class="highlight-python"><div class="highlight"><pre>$ geogig config osm.nodepath osmnode
$ geogig config osm.waypath osmway
</pre></div>
</div>
</div>
</div>


      <p class="centered-text"><a href="#top"><img src="_static/arrow_up.png" alt="back to top"/></a></p>
      </div><!-- /#content> -->
  <div id="sidebar" class="sidebar-offcanvas contrast col-sm-4 sidebar-offcanvas" id="sidebar" role="navigation">

    <div>
         <form id="quick-search" action="search.html" method="get" style="width: 100%;">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
          </fieldset>
        </form>


        <div class="btn-group-vertical" id="docs_toc"> 
          <button type="button" class="btn btn-default"><a href="/docs/">User Manual</a></button>
          <button type="button" class="btn btn-default"><a href="/technical/">Technical Manual</a></button>
          <button type="button" class="btn btn-default"><a href="/manpages/">Man Pages</a></button>
          <button type="button" class="btn btn-default"><a href="/workshop/">Workshop</a></button>
      </div>
      <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">IDEAS &amp; ISSUES FOR FUTURE DEVELOPMENT</a><ul>
<li><a class="reference internal" href="#problems-to-solve-things-to-consider-about-osm-commands-in-geogig">Problems to solve / Things to consider  about OSM commands in GeoGig</a><ul>
<li><a class="reference internal" href="#updating">1. Updating</a></li>
<li><a class="reference internal" href="#unmapping-of-ways">2. Unmapping of ways</a></li>
<li><a class="reference internal" href="#updating-new-entities">3. Updating new entities</a></li>
</ul>
</li>
<li><a class="reference internal" href="#osm-paths">OSM paths</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="_sources/osm_dev_ideas.txt">Show Source</a></li>
        </ul>
        </div>
        <div class="section">
          <h3>License</h3>
          <p>This project is licensed under the <a href="https://github.com/locationtech/geogig/blob/master/LICENSE.txt">BSD New License</a>.</p>
        </div>

  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div>
</div>

</div><!-- /#main -->
    <footer>
      <div class="container">
        <div class="row">
          <div class=""><p class="repo-owner"><a href="https://github.com/locationtech/geogig">GeoGig</a> is maintained by <a href="https://github.com/boundlessgeo"><img src="_static/Boundless_Logo.png" alt="Boundless"></a></p></div>
        </div>
      </div>
    </footer>


  <script type="text/javascript" src="_static/jquery.js"></script>
  <script type="text/javascript" src="_static/jquery-migrate-min.js"></script>
  <script type="text/javascript" src="_static/bootstrap.js" ></script>
  <script type="text/javascript" src="_static/underscore.js"></script>
  <script type="text/javascript" src="_static/doctools.js"></script>
  <script type="text/javascript" src="_static/searchtools.js"></script>
  <script type="text/javascript" src="searchindex.js"></script>
  <script>
      $(document).ready(function() {

      $('[data-toggle=offcanvas]').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
      $('.list-group-item').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
    });
  </script>
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3879903-19']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>
  </body>
</html>
