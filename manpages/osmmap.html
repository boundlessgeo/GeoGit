<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, maximum-scale=1">
  
  <title>geogig-osm-map documentation &mdash; GeoGig 1.0-beta1 Man Pages</title>
  <link rel="stylesheet" href="_static/screen.css" type="text/css" media="screen, projection" />
  <link rel="stylesheet" href="_static/print.css" type="text/css" media="print" /> 
  <!--[if IE]>
  <link rel="stylesheet" href="_static/blueprint/ie.css" type="text/css" media="screen, projection" />
  <![endif]-->
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/offcanvas.css" type="text/css" />
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0-beta1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html'
    };
  </script>
      <link rel="top" title="GeoGig 1.0-beta1 Man Pages" href="index.html" />
</head>
<body class="osmmap">
    <div id="blacktop"></div>
    <header id="masthead">
      <div class="navbar">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://geogig.org"><h1>GeoGig</h1></a>
          </div>
          <div class="navbar-collapse collapse navbar-right">
            <ul class="nav navbar-nav">
              <li><a href="http://geogig.org/#install">Get Started</a></li>
              <li><a href="http://geogig.org/docs/index.html">Documentation</a></li>
              <li><a href="https://github.com/locationtech/geogig">On Github</a></li>
            </ul>
          </div><!--/.navbar-collapse -->
        </div>
      </div>
    </header>

    <section class="subheading hidden-xs">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <p class="byline">A Tool for Geospatial Data Management</p>
          </div>
        </div>
      </div>
    </section>
    <a name="top"></a>

 <div id="main">
    <div class="wrap selfclear">
      <div id="content">
      <div class="container">
        <div class="row row-offcanvas row-offcanvas-right">
          <div class="col-md-8"> 
            <div class="row pull-right">
             <div class="visible-sm visible-xs" id="menu-btn">
                <button class="btn btn-blue btn-sm"type="button" data-toggle="offcanvas">
                  <span class="btn-text active">Menu &rarr;</span>
                  <span class="btn-back">&larr; Back</span>
                </button>
              </div>
            </div>
<ul id="breadcrumbs">
  
  <li><a href="index.html">GeoGig 1.0-beta1 Man Pages</a> &raquo;</li>
  <li>geogig-osm-map documentation</li>
</ul>
<ul id="relatedlinks" class="selfclear">
  <li class="first">
    <a href="genindex.html" title="General Index"
       accesskey="I">index</a></li>
</ul>
        
  <div class="section" id="geogig-osm-map-documentation">
<span id="geogig-osm-map"></span><h1>geogig-osm-map documentation<a class="headerlink" href="#geogig-osm-map-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>geogig osm map &lt;file&gt; [&lt;message&gt;]</p>
</div>
<div class="section" id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Create new data in the repository, applying a mapping to the current OSM data.</p>
<p>The mapping is stored as a JSON file, using the following syntax</p>
<div class="highlight-python"><div class="highlight"><pre>{&quot;rules&quot;:[{&quot;name&quot;:&quot;onewaystreets&quot;,&quot;filter&quot;:{&quot;oneway&quot;:[&quot;yes&quot;]},&quot;fields&quot;:{&quot;lit&quot;:{&quot;name&quot;:&quot;lit&quot;, &quot;type&quot;:STRING&quot;},&quot;geom&quot;:{&quot;name&quot;:&quot;geom&quot;, &quot;type&quot;:LINESTRING&quot;}}]}
</pre></div>
</div>
<p>A mapping description is an array of mapping rules, each of them with the following fields:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">name</span></tt> defines the name of the mapping, which is used as the destination tree.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">filter</span></tt> is a set of tags and values, which define the entities to use for the tree. All entities which have any of the specified values for any of the given tags will be used. And empty filter will cause all entities to be used.
To get all entities that have a given tag, no matter which value the tag gas, just use an empty list for the accepted values.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">fields</span></tt> describes the attributes for the feature type, as <tt class="docutils literal"><span class="pre">tag_name:{&quot;name&quot;:field_name,</span> <span class="pre">&quot;type&quot;:field_type}</span></tt> values. Usually, <tt class="docutils literal"><span class="pre">tag_name</span></tt> and <tt class="docutils literal"><span class="pre">field_name</span></tt> will be identical, so the name of the tag is used as the field name. However, you can use a different name for the field, which will act as an alias for the tag.
Valid types for the <tt class="docutils literal"><span class="pre">field_type</span></tt> are <tt class="docutils literal"><span class="pre">INTEGER,</span> <span class="pre">FLOAT,</span> <span class="pre">DOUBLE,</span> <span class="pre">LONG</span> <span class="pre">SHORT,</span> <span class="pre">POINT</span> <span class="pre">LINE,</span> <span class="pre">POLYGON,</span> <span class="pre">STRING,</span> <span class="pre">DATE</span></tt>. Only one of the geometry types can be used for a field in a mapping rule. This defines the type of entities that will be used, so it acts as a filter as well. So, if you add a field of type <tt class="docutils literal"><span class="pre">POINT</span></tt>, it will use only those entities represented as a points. That is, it will use only nodes. <tt class="docutils literal"><span class="pre">LINESTRING</span></tt>  and <tt class="docutils literal"><span class="pre">POLYGON</span></tt> will cause only ways to be used. In both cases, all ways are used, even if they are not closed (they will be automatically closed to create the polygon). It is up to you to define the criteria for a way to be suitable for creating a polygon, such as, for instance, requiring the <tt class="docutils literal"><span class="pre">area=yes</span></tt> or &#8220;building=yes&#8221; tag/value pair.</p>
<p>Apart from the fields that you add to the feature type in your mapping definition, GeoGig will always add an <tt class="docutils literal"><span class="pre">id</span></tt> field with the OSM Id of the entity. This is used to track the Id and allow for unmapping. In the case of ways, another field is added, <tt class="docutils literal"><span class="pre">nodes</span></tt>, which contains the Id&#8217;s of nodes that belong to the way. You should avoid using <tt class="docutils literal"><span class="pre">id</span></tt> or <tt class="docutils literal"><span class="pre">nodes</span></tt> as names of your fields, as that might cause problems.</p>
</li>
</ul>
<p>A commit will be created after the mapping, and the working tree and index have to be clean before performing the mapping operation. The <tt class="docutils literal"><span class="pre">--message</span></tt> option can be used as well to set a given commit message.</p>
</div>
<div class="section" id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>&lt;file&gt;          The filename where the mapping to use is defined</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--message <var>&lt;message&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The message to use for the commit that is created after the mapping operatio is performed</td></tr>
</tbody>
</table>
</div>
<div class="section" id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="osmimport.html#geogig-osm-import"><em>geogig-osm-import documentation</em></a></p>
<p><a class="reference internal" href="osmunmap.html#geogig-osm-unmap"><em>geogig-osmunmap documentation</em></a></p>
</div>
<div class="section" id="bugs">
<h2>BUGS<a class="headerlink" href="#bugs" title="Permalink to this headline">¶</a></h2>
<p>Discussion is still open.</p>
</div>
</div>


      <p class="centered-text"><a href="#top"><img src="_static/arrow_up.png" alt="back to top"/></a></p>
      </div><!-- /#content> -->
  <div id="sidebar" class="sidebar-offcanvas contrast col-sm-4 sidebar-offcanvas" id="sidebar" role="navigation">

    <div>
         <form id="quick-search" action="search.html" method="get" style="width: 100%;">
          <fieldset>
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
            <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" value="Search Documentation&hellip;" size="20" tabindex="3" onblur="if(this.value=='') this.value='Search Documentation&hellip;';" onfocus="if(this.value=='Search Documentation&hellip;') this.value='';" />
          </fieldset>
        </form>


        <div class="btn-group-vertical" id="docs_toc"> 
          <button type="button" class="btn btn-default"><a href="/docs/">User Manual</a></button>
          <button type="button" class="btn btn-default"><a href="/technical/">Technical Manual</a></button>
          <button type="button" class="btn btn-default"><a href="/manpages/">Man Pages</a></button>
          <button type="button" class="btn btn-default"><a href="/workshop/">Workshop</a></button>
      </div>
      <h3 class="pngfix">Table Of Contents</h3>
        <ul>
<li><a class="reference internal" href="#">geogig-osm-map documentation</a><ul>
<li><a class="reference internal" href="#synopsis">SYNOPSIS</a></li>
<li><a class="reference internal" href="#description">DESCRIPTION</a></li>
<li><a class="reference internal" href="#options">OPTIONS</a></li>
<li><a class="reference internal" href="#see-also">SEE ALSO</a></li>
<li><a class="reference internal" href="#bugs">BUGS</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
          <li><a href="_sources/osmmap.txt">Show Source</a></li>
        </ul>
        </div>
        <div class="section">
          <h3>License</h3>
          <p>This project is licensed under the <a href="https://github.com/locationtech/geogig/blob/master/LICENSE.txt">BSD New License</a>.</p>
        </div>

  </div><!-- /#sidebar -->
  </div><!-- /.wrap> -->
</div>
</div>

</div><!-- /#main -->
    <footer>
      <div class="container">
        <div class="row">
          <div class=""><p class="repo-owner"><a href="https://github.com/locationtech/geogig">GeoGig</a> is maintained by <a href="https://github.com/boundlessgeo"><img src="_static/Boundless_Logo.png" alt="Boundless"></a></p></div>
        </div>
      </div>
    </footer>


  <script type="text/javascript" src="_static/jquery.js"></script>
  <script type="text/javascript" src="_static/jquery-migrate-min.js"></script>
  <script type="text/javascript" src="_static/bootstrap.js" ></script>
  <script type="text/javascript" src="_static/underscore.js"></script>
  <script type="text/javascript" src="_static/doctools.js"></script>
  <script type="text/javascript" src="_static/searchtools.js"></script>
  <script type="text/javascript" src="searchindex.js"></script>
  <script>
      $(document).ready(function() {

      $('[data-toggle=offcanvas]').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
      $('.list-group-item').click(function(e) {
        e.stopPropagation();
        $('.row-offcanvas').toggleClass('active');
        $('.btn-back').toggleClass('active');
        $('.btn-text').toggleClass('active');
      });
    });
  </script>
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3879903-19']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>
  </body>
</html>
